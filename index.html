<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mycha Website V2</title>
<style>
  /* Background pink with subtle hearts pattern */
  body {
    margin: 0; padding: 0;
    background: pink;
    font-family: 'Poppins', sans-serif;
    overflow-x: hidden;
    min-height: 100vh;
    position: relative;
  }
  
  /* Navigation bar */
  nav {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 60px;
    background: linear-gradient(90deg, #ff69b4, #b30059);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 30px;
    z-index: 10000;
    box-shadow: 0 3px 8px rgba(179, 0, 89, 0.7);
  }
  nav a {
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1rem;
    padding: 8px 16px;
    border-radius: 12px;
    transition: background-color 0.3s ease, transform 0.3s ease;
    cursor: pointer;
  }
  nav a:hover, nav a:focus {
    background-color: #ff85c1;
    transform: scale(1.1);
    outline: none;
  }

  /* Push main content down so nav doesn't cover */
  #main {
    padding: 20px;
    max-width: 700px;
    margin: 80px auto 0 auto;
    text-align: center;
    color: #8B004B;
  }

  /* Fullscreen Loading */
  #loading-screen {
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: pink;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    flex-direction: column;
  }
  
  /* Loading spinner hearts */
  .loading-heart {
    width: 50px; height: 45px;
    background: red;
    position: relative;
    transform: rotate(-45deg);
    animation: pulse 1.2s infinite;
    margin: 0 8px;
  }
  .loading-heart::before,
  .loading-heart::after {
    content: "";
    background: red;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    position: absolute;
  }
  .loading-heart::before {
    top: -25px; left: 0;
  }
  .loading-heart::after {
    left: 25px; top: 0;
  }
  
  @keyframes pulse {
    0%, 100% { transform: rotate(-45deg) scale(1); }
    50% { transform: rotate(-45deg) scale(1.2); }
  }

  /* Hearts floating around background */
  .floating-heart {
    position: fixed;
    width: 30px; height: 27px;
    background: red;
    transform: rotate(-45deg);
    border-radius: 0;
    animation: floatUp linear infinite;
    opacity: 0.8;
  }
  .floating-heart::before,
  .floating-heart::after {
    content: "";
    background: red;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    position: absolute;
  }
  .floating-heart::before {
    top: -15px; left: 0;
  }
  .floating-heart::after {
    left: 15px; top: 0;
  }
  @keyframes floatUp {
    0% { transform: translateY(100vh) rotate(-45deg) scale(1); opacity: 0.8; }
    100% { transform: translateY(-100px) rotate(-45deg) scale(1.2); opacity: 0; }
  }

  /* Header */
  h1 {
    font-size: 3rem;
    margin-bottom: 10px;
  }
  h2 {
    font-size: 2rem;
    margin-bottom: 5px;
  }
  h3 {
    font-size: 1.5rem;
    margin-bottom: 20px;
  }

  /* Typewriter style */
  #typewriter-text {
    font-size: 1.5rem;
    color: #b30059;
    border-right: 3px solid #b30059;
    white-space: nowrap;
    overflow: hidden;
    width: 0;
    animation: typing 4s steps(40, end) forwards, blink 0.75s step-end infinite;
    margin: 0 auto 40px auto;
    max-width: 100%;
  }
  @keyframes typing {
    from { width: 0 }
    to { width: 100% }
  }
  @keyframes blink {
    50% { border-color: transparent }
  }

  /* Chat Box Styles */
  #chat-container {
    background: white;
    border-radius: 20px;
    box-shadow: 0 0 15px #ff69b4;
    padding: 15px;
    max-width: 700px;
    margin: 0 auto 40px auto;
    display: flex;
    flex-direction: column;
    height: 300px;
  }

  #chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    border: 2px solid #ff69b4;
    border-radius: 12px;
    padding: 12px;
    background: #ffe6f0;
    font-size: 1rem;
    margin-bottom: 15px;
  }
  #chat-messages div {
    background: #ffb6c1;
    padding: 8px 12px;
    border-radius: 12px;
    margin-bottom: 8px;
    max-width: 80%;
    word-wrap: break-word;
    color: #650025;
  }

  #chat-input-area {
    display: flex;
    gap: 10px;
  }
  #chat-input {
    flex-grow: 1;
    padding: 12px;
    font-size: 1rem;
    border-radius: 12px;
    border: 2px solid #ff69b4;
    outline: none;
    transition: border-color 0.3s ease;
  }
  #chat-input:focus {
    border-color: #b30059;
  }
  #chat-send {
    background: #ff69b4;
    border: none;
    color: white;
    padding: 12px 20px;
    font-size: 1rem;
    border-radius: 12px;
    cursor: pointer;
    transition: background 0.3s ease, box-shadow 0.4s ease;
  }
  #chat-send:hover, #chat-send:focus {
    background: #e55a99;
    box-shadow: 0 0 15px #ff69b4;
    outline: none;
  }

  /* Responsive */
  @media (max-width: 600px) {
    h1 { font-size: 2.5rem; }
    h2 { font-size: 1.75rem; }
    h3 { font-size: 1.25rem; }
    #chat-container { height: 250px; }
    nav {
      gap: 15px;
      height: 50px;
    }
    nav a {
      font-size: 1rem;
      padding: 6px 12px;
    }
  }
</style>
</head>
<body>

<!-- Navigation -->
<nav>
  <a href="#home" tabindex="0">Home</a>
  <a href="#about" tabindex="0">About</a>
  <a href="#contact" tabindex="0">Contact</a>
</nav>

<!-- Loading Screen -->
<div id="loading-screen">
  <div style="display:flex;">
    <div class="loading-heart" style="animation-delay: 0s;"></div>
    <div class="loading-heart" style="animation-delay: 0.3s;"></div>
    <div class="loading-heart" style="animation-delay: 0.6s;"></div>
  </div>
  <p style="color:#8B004B; margin-top: 15px; font-weight: bold;">Loading... Please wait</p>
</div>

<!-- Floating Hearts -->
<div class="floating-heart" style="left: 10%; animation-duration: 10s; animation-delay: 0s;"></div>
<div class="floating-heart" style="left: 30%; animation-duration: 14s; animation-delay: 2s;"></div>
<div class="floating-heart" style="left: 50%; animation-duration: 12s; animation-delay: 1s;"></div>
<div class="floating-heart" style="left: 70%; animation-duration: 11s; animation-delay: 3s;"></div>
<div class="floating-heart" style="left: 85%; animation-duration: 13s; animation-delay: 0.5s;"></div>

<div id="main" aria-live="polite" aria-atomic="true">
  <h1 id="home">Mycha Redisa</h1>
  <h2 id="about">Maganda ka no diba</h2>
  <h3 id="contact">Welcome to my website</h3>

  <div id="typewriter-text"></div>

  <div id="chat-container" role="region" aria-label="Chat box">
    <div id="chat-messages" aria-live="polite" aria-relevant="additions"></div>
    <div id="chat-input-area">
      <input id="chat-input" type="text" aria-label="Type your message" placeholder="Type your message here..." />
      <button id="chat-send" aria-label="Send message">Send</button>
    </div>
  </div>
</div>

<script>
  // Hide loading screen after page fully loads with fadeout
  window.addEventListener('load', () => {
    const loadingScreen = document.getElementById('loading-screen');
    loadingScreen.style.transition = 'opacity 1s ease';
    loadingScreen.style.opacity = '0';
    setTimeout(() => {
      loadingScreen.style.display = 'none';
    }, 1000);
  });

  // Typewriter text effect
  const typewriterText = "Hi Mycha! Ginawa kita ng website! ü•∞üòç‚ô•Ô∏èüòò";
  const typewriterEl = document.getElementById('typewriter-text');
  let idx = 0;

  function typeWriter() {
    if (idx <= typewriterText.length) {
      typewriterEl.textContent = typewriterText.substring(0, idx);
      idx++;
      setTimeout(typeWriter, 100);
    } else {
      // restart typing every 5 seconds
      setTimeout(() => {
        idx = 0;
        typeWriter();
      }, 5000);
    }
  }
  typeWriter();

  // Chat message sending logic
  const chatSendBtn = document.getElementById('chat-send');
  const chatInput = document.getElementById('chat-input');
  const chatMessages = document.getElementById('chat-messages');

  function addMessageToChat(message, sender = 'You') {
    const div = document.createElement('div');
    div.textContent = sender + ': ' + message;
    chatMessages.appendChild(div);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  chatSendBtn.addEventListener('click', () => {
    const msg = chatInput.value.trim();
    if (!msg) return;
    addMessageToChat(msg, 'You');

    // Send message to your backend server
    fetch('http://localhost:3000/send-sms', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({ message: msg, sender: 'Website Visitor' }),
    })
    .then(res => res.text())
    .then(data => {
      addMessageToChat('Message sent to server ‚úîÔ∏è', 'Server');
    })
    .catch(() => {
      addMessageToChat('Failed to send message ‚ùå', 'Server');
    });

    chatInput.value = '';
  });

  // Optional: Press Enter key to send message
  chatInput.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      chatSendBtn.click();
    }
  });
</script>
</body>
  </html>
